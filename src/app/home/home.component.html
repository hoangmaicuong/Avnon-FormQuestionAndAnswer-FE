<div class="d-grid gap-2 col-6 mx-auto">
    <a routerLink="/form/builder" class="btn btn-primary" >Add Question</a>
</div>
<table class="table table-striped table-bordered mt-3">
    <thead>
      <th style="text-align: center;">#</th>
      <th>List of questions & answers</th>
    </thead>
    <tbody>
        @for (item of data.Questions; track $index) {
            <tr>
                <td style="width: 110px;text-align: center;">
                    <!-- <button type="button"  class="btn btn-info btn-sm mx-2">Edit</button> -->
                     @if(!item.answer_content && item.answer_option.length < 1){
                      <button type="button" routerLink="/form/ansers" [queryParams]="{id: item.question_id}" class="btn btn-success btn-sm">Reply</button>
                     }
                </td>
                <td style="font-weight: bold;">Question: {{item.question_content}}</td>
              </tr>
              <tr>
                <td colspan="2">
                  <table class="table mb-0">
                    <thead>
                        <th style="width: 110px;"></th>
                        <th></th>
                      </thead>
                      <tbody>
                        @if(item.answer_type_code != null && item.answer_type_code.trim() == 'ReplyText')
                          {
                            <tr>
                              <td></td>
                              <td>{{item.answer_content != null && item.answer_content != '' ? item.answer_content: 'No answer yet'}}</td>
                            </tr>
                          }
                          @else if (item.answer_type_code != null && item.answer_type_code.trim() == 'ChooseAS') 
                          {
                            @for ( itemAS of item.answer_option; track $index) {
                              <tr>
                                <td></td>
                                <td>{{itemAS.option_answer_content}}</td>
                            </tr>
                            }@empty {
                              <tr>
                                <td></td>
                                <td>No answer yet</td>
                            </tr>
                            }
                          }
                      </tbody>
                  </table>
                </td>
              </tr>
        } @empty {
            
        }
    </tbody>
  </table>
